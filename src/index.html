<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="mobile-web-app-capable" content="yes" />

		<link rel="shortcut icon" href="#" />
		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link
			href="https://fonts.googleapis.com/css2?family=DotGothic16&family=IM+Fell+English:ital@0;1&family=Press+Start+2P&family=Titillium+Web:wght@900&display=swap"
			rel="stylesheet"
		/>
		<script
			src="https://use.fontawesome.com/releases/v5.15.2/js/all.js"
			crossorigin="anonymous"
			showMissingIcons="true"
			autoA11y="true"
			autoAddCss="true"
		></script>
		<title>Ian's Trivia Game</title>
	</head>
	<body>
		<main class="main-container">
			<header class="header-container">
				<div class="social-container">
					<span id="author-text">@irackson</span>
					<nav class="link-container">
						<i
							id="github"
							class="fab fa-github-square"
							onclick="window.open('https://github.com/irackson')"
						></i>
						<i
							id="slack"
							class="fab fa-slack"
							onclick="window.open('https://ga-students.slack.com/team/U01GN8NP1C5')"
						></i>
					</nav>
				</div>
				<div class="play-container">
					<span class="button nowrap" id="play-button">PLAY TRIVIA</span>
				</div>
			</header>
			<section class="hero-container">
				<div class="lock-container">
					<div class="button" id="player-1-button">P1 LOCK</div>
				</div>
				<div class="info-container">
					<section class="inactive-game-container">
						<div class="inactive-game-text">
							<p id="choose-text">CHOOSE</p>
							<p id="mode-text" class="nowrap">GAME MODE</p>
						</div>
					</section>
					<section class="active-game-container">
						<div class="score-container">
							<div class="ratio-container">
								<p id="player-1-points"></p>
								<p class="division-spacing"></p>
								<p class="max-points"></p>
							</div>
							<canvas id="gameCanvas" class="visual-container">
								<!-- https://www.youtube.com/watch?v=DeqE2yn3v6Q -->
								<script>
									// declare variables
									const FPS = 30;
									var bs = 30;
									var bx, by;
									var xv, yv;
									var canvas, context;

									//load canvas
									canvas = document.getElementById('gameCanvas');
									context = canvas.getContext('2d');

									// set up interval (game loop)
									setInterval(update, 1000 / FPS);

									// ball starting position
									bx = canvas.width / 2;
									by = canvas.height / 2;

									// random ball starting speed (between 100 and 200 pps)
									xv = Math.floor(Math.random() * 10 + 20) / FPS;
									yv = Math.floor(Math.random() * 10 + 20) / FPS;

									// random ball direction
									if (Math.floor(Math.random() * 2) === 0) {
										xv = -xv;
									}
									if (Math.floor(Math.random() * 2) === 0) {
										yv = -yv;
									}
									// update function
									function update() {
										// move the ball
										bx += xv;
										by += yv;

										// bounce the ball off each wall
										if (bx - bs / 2 < 0 && xv < 0) {
											xv = -xv;
										}
										if (bx + bs / 2 > canvas.width && xv > 0) {
											xv = -xv;
										}
										if (by - bs / 2 < 0 && yv < 0) {
											yv = -yv;
										}
										if (by + bs / 2 > canvas.height && yv > 0) {
											yv = -yv;
										}

										// clear previous ball
										context.clearRect(0, 0, canvas.width, canvas.height);

										// draw new ball
										context.fillStyle = 'goldenrod';
										context.fillRect(bx - bs / 2, by - bs / 2, bs, bs);
									}
								</script>
							</canvas>
							<div class="ratio-container">
								<p id="player-2-points"></p>
								<p class="division-spacing"></p>
								<p class="max-points"></p>
							</div>
						</div>
						<div class="stat-container">
							<div class="question-stats-container">
								<div class="qnum-container">
									<p>Q. #<span id="question-number-text"></span></p>
								</div>
								<div class="partial-credit-container">
									<i class="fas fa-chart-pie" id="partial-credit"></i>
								</div>
								<div class="qgrade-container">
									<p><span id="question-difficulty-text"></span></p>
								</div>
							</div>
							<div class="result-stats-container">
								<p id="winner-text"></p>
							</div>
						</div>
					</section>
				</div>
				<div class="lock-container">
					<div class="player" id="player-2">
						<div class="button" id="player-2-button">P2 LOCK</div>
					</div>
				</div>
			</section>
			<section class="middle-container">
				<section class="mode-container">
					<div class="mode-select">
						<div
							class="button"
							id="dev-select-button"
							onclick="document.getElementById('dev-range').value = '7'; document.getElementById('max-question-text').innerText = '7'"
						>
							DEV'S CHALLENGE
						</div>
					</div>
					<div class="mode-select">
						<div class="button" id="otdb-select-button">
							<span class="nowrap">TRIVIA</span> DATABASE
						</div>
					</div>
				</section>
				<section class="prompt-container">
					<p class="prompt" id="prompt"></p>
				</section>
			</section>
			<section class="bottom-container">
				<section class="dev-pregame-container">
					<div class="dev-description-container">
						<p class="dev-description-text">
							Mix & Match! Choose from different question types
							<span class="nowrap"> designed to challenge the developer. </span>
						</p>
					</div>
					<!-- this dummy div added b/c weird issue with display: none, justify-content: space-between & $.show/hide -->
					<div class="dev-dummy-spacing"></div>
					<div class="dev-details-container">
						<div class="dev-grid-container">
							<div class="dev-option-container top-left">
								<div class="dev-option-button" id="boolean">boolean</div>
							</div>
							<div class="dev-option-container top-right">
								<div class="dev-option-button" id="multiple">multiple</div>
							</div>
							<div class="dev-option-container bottom-left">
								<div class="dev-option-button" id="fill">fill-in</div>
							</div>
							<div class="dev-option-container bottom-right">
								<div class="dev-option-button" id="dropdown">dropdown</div>
							</div>
							<div class="dev-all-container center">
								<div class="dev-option-button" id="all">ALL TYPES</div>
							</div>
							<div class="slider-container top-middle">
								<input
									type="range"
									min="1"
									max="8"
									value="7"
									step="1"
									class="slider"
									id="dev-range"
									oninput="document.getElementById('max-question-text').innerText = this.value"
								/>
							</div>
							<div class="slider-text-container bottom-middle">
								<p class="nowrap">
									Max #/&nbsp;Type:&nbsp;<span id="max-question-text"></span>
								</p>
							</div>
						</div>
					</div>
				</section>
				<section class="otdb-pregame-container">
					<div class="otdb-description-container">
						<p class="otdb-description-text"></p>
					</div>
					<!-- this dummy div added b/c weird issue with display: none, justify-content: space-between & $.show/hide -->
					<div class="otdb-dummy-spacing"></div>
					<div class="otdb-parameters-container">
						<form
							onkeydown="return event.key != 'Enter';"
							id="otdb-parameters-form"
						>
							<ul>
								<li>
									<label for="otdb-num-input">Number of Questions:</label>
									<!-- https://stackoverflow.com/a/48477583 -->
									<input
										type="number"
										id="otdb-num-input"
										name="otdb-num-input"
										min="1"
										max="50"
										value="10"
										oninput="this.value=(this.value < Number(this.min) || this.value > Number(this.max)) ? '' : this.value;"
									/>
								</li>

								<li>
									<label for="otdb-format-input"
										>Select Format:&nbsp&nbsp&nbsp&nbsp</label
									>
									<select name="otdb-format-input" id="otdb-format-input">
										<option value="any">Any Type</option>
										<option value="multiple">Multiple Choice</option>
										<option value="boolean">True / False</option>
									</select>
								</li>

								<li>
									<label for="otdb-diff-input">Select Difficulty:</label>
									<select name="otdb-diff-input" id="otdb-diff-input">
										<option value="any">Any Difficulty</option>
										<option value="easy">Easy</option>
										<option value="medium">Medium</option>
										<option value="hard">Hard</option>
									</select>
								</li>

								<li>
									<label for="otdb-cat-input">Select Category:</label>
									<select name="otdb-cat-input" id="otdb-cat-input">
										<option value="any">Any Category</option>
										<option value="9">General Knowledge</option>
										<option value="10">Entertainment: Books</option>
										<option value="11">Entertainment: Film</option>
										<option value="12">Entertainment: Music</option>
										<option value="13">
											Entertainment: Musicals &amp; Theatres
										</option>
										<option value="14">Entertainment: Television</option>
										<option value="15">Entertainment: Video Games</option>
										<option value="16">Entertainment: Board Games</option>
										<option value="17">Science &amp; Nature</option>
										<option value="18">Science: Computers</option>
										<option value="19">Science: Mathematics</option>
										<option value="20">Mythology</option>
										<option value="21">Sports</option>
										<option value="22">Geography</option>
										<option value="23">History</option>
										<option value="24">Politics</option>
										<option value="25">Art</option>
										<option value="26">Celebrities</option>
										<option value="27">Animals</option>
										<option value="28">Vehicles</option>
										<option value="29">Entertainment: Comics</option>
										<option value="30">Science: Gadgets</option>
										<option value="31">
											Entertainment: Japanese Anime &amp; Manga
										</option>
										<option value="32">
											Entertainment: Cartoon &amp; Animations
										</option>
									</select>
								</li>
							</ul>
						</form>
					</div>
				</section>
				<section class="response-container"></section>
			</section>
		</main>
	</body>
</html>
